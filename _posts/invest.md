---
title: 投资问题
date: 2020-1-10 15:01:41
tags:  
- 算法
categories:
cover: /img/invest.jpg
---

#### 条件
你有五万元 可以分别给不同的项目投资若干金额  
下表列举了投资效益   
x为投入资金 f(x)为项目效益   

|   x   | f1(x) | f2(x) | f3(x) | f4(x) |
| :---: | :---: | :---: | :---: | :---: |
|   0   |   0   |   0   |   0   |   0   |
|   1   |  11   |   0   |   2   |  20   |
|   2   |  12   |   5   |  10   |  21   |
|   3   |  13   |  10   |  30   |  22   |
|   4   |  14   |  15   |  32   |  23   |
|   5   |  15   |  20   |  40   |  24   |

#### 问
如何使效益最大化。

#### 解
* 当 k = 1时 只考虑把钱投资给第一个项目：  
f1(1) = 11, f1(2) = 12, f1(3) = 13, f1(4) = 14, f1(5) = 15   
直接把项目1回报抄下来 对应 12345 这 5万元分别的回报 不需要计算  
上述最优回报为 15    
结论: 5万元投资项目1 最优效益15万  
* 当 k = 2 时 可以考虑项目1和项目2 
  * 方案1 一万元的分配: 
    ```
    有两个选择 (0,1) (1,0)  
    f2(1) = max{ f2(1), f1(1) }  
          = max{ 0 , 11 }  
          = 11  
    1万投资给f1(1) 效益11万      
    ```
  * 方案2 两万元的分配: 
    ```
    有3个选择 (0, 2) (1, 1) (2, 0)
    f2(2) = max{ f2(2), f1(1)+f2(1), f1(2) }
          = max{ 5, 11+0, 12 }
          = 12
    2万投资给f1(2) 效益12万
    ```
  * 方案3 三万元的分配:
    ```
    有4种可能的划分 (0, 3) (1, 2) (2, 1) (3, 0)
    f2(3) = max{ f2(3), f1(1)+f2(2), f1(2)+f2(1), f1(3) }
          = max{ 10, 11+5, 12+0, 13 }
          = max{ 10, 16, 12, 13}
          = 16
    此时最优为 1万投资项目1、2万投资项目2 效益16万
    ```
  * 按上述方法 可以计算f2(4) f2(5)
    ```
    f2(4) = 21
    f2(5) = 26
    ```
 
我们可以将所有分配计算出来 记到表格中   
f3(5) x3(5) 表示前3个项目 分配5万元的情况  

|   x   |   f1(x) x1(x)    |   f2(x) x2(x)    |   f3(x) x3(x)    |   f4(x) x4(x)    |
| :---: | :--------------: | :--------------: | :--------------: | :--------------: |
|   1   | 11&ensp;&ensp; 1 | 11&ensp;&ensp; 0 | 11&ensp;&ensp; 0 | 20&ensp;&ensp; 1 |
|   2   | 12&ensp;&ensp; 2 | 12&ensp;&ensp; 0 | 13&ensp;&ensp; 1 | 31&ensp;&ensp; 1 |
|   3   | 13&ensp;&ensp; 3 | 16&ensp;&ensp; 2 | 30&ensp;&ensp; 3 | 33&ensp;&ensp; 1 |
|   4   | 14&ensp;&ensp; 4 | 21&ensp;&ensp; 3 | 41&ensp;&ensp; 3 | 50&ensp;&ensp; 1 |
|   5   | 15&ensp;&ensp; 5 | 26&ensp;&ensp; 4 | 43&ensp;&ensp; 4 | 61&ensp;&ensp; 1 |

解读表格的最后一项   
5万元投资4个项目 最优效益为 61万
* 在项目4投资了1万元 剩下4万就分配给前三个项目
* 然后追踪到 x3(4) --> ( 41 3 )
* 在项目3投资了3万元 剩下一万分配给前两个项目
* 然后可以追踪到 x2(1) --> ( 11 0 )
* 在项目2 没有投资 剩一万
* 一万最大效益 x1(1) --> ( 11 1 )

``` 
  x4(5)=1 --> x4=1 , x3(5-1) = x3(4)
  x3(4)=3 --> x3=3 , x2(4-3) = x2(1)
  x2(1)=0 --> x2=0 , x1(1-0) = x1(1)
  x1(1)=1 --> x1=1
 
解：x1=1, x2=0, x3=3, x4=1 , f4(5) = 61
```
